<%- include ('header.ejs') -%>
<form>
    <h2>Password Restoration</h2>
    <h4>Fill in your Email to restore your Password</h4>
    <label for="email">Email</label>
    <input type="email" name="email" id="em" onclick="removerr()"/>
    <div style="color: red;" id="res"></div>
    <button type="button" onclick="direct()">Send Rectification mail</button>
</form>
<script>
    function direct(){
        var mailformat = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        em=document.getElementById("em");
        res=document.getElementById("res");
        if(em.value!="" && mailformat.test(em.value)==true){
            window.location.href = "/thank.ejs";
        }
            else{
                res.innerHTML="Please put in a valid email";
            setTimeout(function(){ res.innerHTML="";}, 4000);
            document.addEventListener('invalid', (function () {
  return function (e) {
    e.preventDefault();
    em.focus();
  };
})(),true);
    }   }   
    function removerr(){
        document.getElementById("res").innerHTML="";
    }
</script>
<%- include('footer.ejs'); -%>